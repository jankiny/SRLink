# 说明

使用程序可简化树人大学网络连接流程，可自动进行校园网认证，连接`L2TP`网络，并发送本机`IP`到指定邮箱。

~~使用本程序可使计算机在无人控制的情况下自动连接网络（设置程序在早上8点后开始尝试连接网络），使用接收的`IP`可在学校机房远程控制寝室中的计算机（`win10`需要专业版）。~~

**最近网络连接的时间被提早到了早上8点以前，同时寝室的计算机不能在机房被`ping`通。本程序目前仍可可作为随e行的代替。**

## 功能

**由于在`v2.2.1`版本进行了重构，请下载最新版本**

使用以下功能需要首先勾选“自动连接”的`启用`选项。配置页面显示的顺序即执行连接时的顺序，部分功能在程序设置页面有说明，以下为核心功能的描述。

### 自动连接

启用后，当前时间若大于配置的时间，且小于晚上11点(断网事件)，会每隔3秒执行启用的配置。当自动连接成功后，会停止重复尝试的计时器。

### 内网认证

需要在配置中输入“学号”和“密码”。若勾选了“校园网认证”的`启用`选项，通常为连接的第一步，程序执行`连接网络`时会先进行认证，认证成功后再进行后续操作。通过内网认证可判断校园网是否可连接，若未到网络开启时间，会不停尝试进行内网认证（宏观上可看作阻塞在内网认证），当内网认证成功时，说明已经可以连接网络。因此之后的步骤（网络连接步骤）若出现错误，可排除网线未接好等问题。

### 网络连接

需要在配置中输入“服务器地址”、“账号”和“密码”，服务器地址两校区不同，`默认`服务器与随e行提供的默认服务器相同。若勾选了“网络连接”的`启用`选项，程序会创建L2TP连接，并维护该连接。当在网络连接部分出现错误时，由于经过内网认证，已经排除很多可能，几乎可以肯定时配置出现了问题，因此若网络连接出现连接失败，会取消启用“自用连接功能”，需要用户检查错误，尝试手动连接并连接成功后重新启用自动连接功能。

### 发送IP地址

如有需要，填写用于接收`IP地址`的邮箱，网络连接成功后会自动发送邮件到“填写的邮箱”（可能会在垃圾邮件中）。

## 安装使用

1. 进入[Release](https://github.com/jankiny/SrLink/releases)页面，下载最新版本。解压后，运行`SRLink.exe`即可（程序默认打开到状态栏，不在桌面显示）。

2. **以下为建议的配置。**双击图标进入程序的配置页面。
3. 先进入`连接器`的配置页面，对内网认证进行配置。点击`内网认证`下的`启用`按钮，在出现的输入框中输入学号密码。
4. 在对`网络连接`进行配置。点击`网络连接`下的启用按钮，在出现的框中输入服务器、账号、密码。
5. 

## 错误

### 提示

#### 内网认证提示

